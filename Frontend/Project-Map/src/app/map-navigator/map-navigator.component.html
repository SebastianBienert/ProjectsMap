<div style="color: white">
  <ul>
    <li mdbRippleRadius *ngFor="let building of buildingsList" [ngClass]="{'btn':true, 'btn-blue':true, 'waves-light':true, 'active':building.Id === selectedBuilding}"
      (click)="open(content); changeBuilding(building.Id, 0)">{{building.Address}}</li>
    <li mdbRippleRadius [ngClass]="{'btn':true, 'btn-blue':true, 'waves-light':true, 'active':selectedBuilding ===0}" (click)="addNewBuilding()"
      *hasClaim="['canWriteProjects:true','claimType2:value']">+</li>
  </ul>
</div>
<div style="color: white">
  <ul>
    <li mdbRippleRadius *ngFor="let floor of currentBuildingFloorsList" [ngClass]="{'btn':true, 'btn-blue':true, 'waves-light':true, 'active': floor.Id === selectedFloor}"
      (click)="open(content); changeFloor(floor.Id)">Floor {{floor.FloorNumber}}</li>
    <li mdbRippleRadius [ngClass]="{'btn':true, 'btn-blue':true, 'waves-light':true, 'active':selectedFloor ===0}" (click)="addNewFloor()"
      *hasClaim="['canWriteProjects:true','claimType2:value']">+</li>
  </ul>
</div>
<!-- <button (click)="debug()">print building</button> -->
<div [ngSwitch]="displayMode">
  <div *ngSwitchCase="'displayMap'">
    <app-displayed-map [floorToDisplay]="selectedFloor" (mapChanged)="mapChanged($event)">
    </app-displayed-map>
    <button class="btn btn-green waves-light" mdbRippleRadius (click)='editMap()'>Edit map</button>
    <!-- <label for="editMap" class="btn" style="background-color: blue; color: aqua" *hasClaim="['canWriteProjects:true','claimType2:value']">Edit map</label>
  <input id="editMap" (click)='editMap()' style="visibility:hidden;"> uncomment after fixing edit-->
  </div>
  <div *ngSwitchCase="'create'">
    <app-map-creator [floorDescription]="''" [buildingId]="selectedBuilding" (mapCreated)="mapCreated($event)">
    </app-map-creator>
  </div>
  <div *ngSwitchCase="'edit'">
    <app-map-creator [floorDescription]="''" [buildingId]="selectedBuilding" [loadedFloorId]="selectedFloor" (mapCreated)="mapCreated($event)">
    </app-map-creator>
  </div>
  <div *ngSwitchCase="'addBuilding'">
    <input [(ngModel)]="buildingAddress" #ctrl="ngModel" required placeholder="Address">
    <button (click)='saveNewBuilding()'>OK</button>
  </div>
</div>

<ng-template #content let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title">Loading...</h4>
    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body row align-items-center justify-content-center">
    <div class="col">
      <div class="loader"></div>
    </div>
  </div>
  <!-- <div class="modal-footer">
      <button type="button" class="btn btn-outline-dark" (click)="c('Close click')">Close</button>
    </div> -->
</ng-template>